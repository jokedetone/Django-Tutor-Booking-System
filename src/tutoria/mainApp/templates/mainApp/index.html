<html>

<head>

    <title>Tutoria</title>

    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="true"/>
    <meta name="MobileOptimized" content="320"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
          integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/index.css">
    <link rel="stylesheet" href="/static/css/animate.css">

    <style type="text/css">


    </style>

</head>

<body>

<div class="" id="topBar">
    <div class="container-fluid">
        <div class="" style="float:left;">
            <h1 id="mainHeading">Tutoria</h1>
        </div>

        <div class="" id="logInForm" style="float:right;">
            <button class="btn btn-success" data-toggle="modal" data-target="#pwdresetmodal"
                    style="display: inline-block">Forgot Password?
            </button>

            <form class="form-inline" action="/mainApp/index" method="post" style="display: inline-block">
                <span style="color:white; font-weight:bold; margin-right: 10px;">{{ loginError }}</span>
                <input type="email" class="form-control" id="signInInputEmail" name="email" value=""
                       placeholder="Email Address">
                <input type="password" class="form-control" id="signInInputPwd" name="password" value=""
                       placeholder="Password">
                <input type="submit" class="form-control btn btn-info" name="login" value="Log In">
            </form>
        </div>

    </div>
</div>

<div class="modal fade" id="pwdresetmodal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Password Reset</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="form-inline" action="/mainApp/index" method="post" style="display: inline-block">
                    <input type="email" class="form-control" id="pwdResetEmail" name="pwdresetemail" value=""
                           placeholder="Email Address">
                </form>
                <div class="alert alert-danger" style="display: none" id="resetFail">Email address invalid or no account
                    associated with this email address
                </div>
                <div class="alert alert-success" style="display: none" id="resetSuccess">An email with the link has been
                    sent to you
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="resetpwd()">Submit</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid animated bounceInUp" id="mainContainer">

    <div style="float:left; width: 500px;" class="">
        <h1 style="" class="tealHeading">Welcome to Tutoria!<br></h1>
        <p>Tutoria is an awesome place where you can find just the person you want to teach you whatever you want to
            learn! So sign up or sign in! </p>

        <form method="post" id="logInFields">

            <div class="form-group">
            </div>

        </form>
    </div>

    <div style="float:right; width:400px;" class="">
        <h1 class="tealHeading">Sign Up!</h1><br>
        <h4>Register as a tutor from your profile after this!</h4>
        <form class="form" id="signUpForm" action="/mainApp/index" method="post" enctype="multipart/form-data">
            <input type="text" id="nameinput" class="form-control signUpInput" name="name" value=""
                   placeholder="Given Name">
            <p id="nameError" style="color:red;"></p>
            <input type="text" id="lastnameinput" class="form-control signUpInput" name="lastName" value=""
                   placeholder="Last Name">
            <p id="lastNameError" style="color:red;"></p>
            <input type="email" id="emailinput" class="form-control signUpInput" name="email" value=""
                   placeholder="Email Address">
            <p id="emailError" style="color:red;">{{ emailError }}</p>
            <input type="password" id="pwdinput" class="form-control signUpInput" name="password" value=""
                   placeholder="New Password">
            <p id="pwdError" style="color:red;"></p>
            <input type="text" id="contactinput" class="form-control signUpInput" name="contact" value=""
                   placeholder="Contact Number">
            <p id="contactError" style="color:red;"></p>

            <p>{{ form.non_field_errors }}</p>
            <p>{{ form.docfile.label_tag }} </p>
            <p>
                {{ form.docfile.errors }}
                {{ form.docfile }}
            </p>
            <input type="submit" class="form-control btn btn-info signUpInput" name="signup" value="Sign Up!">
        </form>
    </div>

</div>


<script src="https://code.jquery.com/jquery-3.1.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>

<script type="text/javascript">

    $('#signUpForm').submit(function (e) {
        $('#nameError').html('');
        $('#emailError').html('');
        $('#pwdError').html('');
        $('#contactError').html('');
        $('#lastNameError').html('');

        if ($('#nameinput').val() == "") {
            $('#nameError').html('Please Enter Your Name');
            e.preventDefault();
        }
        if ($('#emailinput').val() == "") {
            $('#emailError').html('Please Enter Your Email Address');
            e.preventDefault();
        }
        if ($('#pwdinput').val() == "") {
            $('#pwdError').html('Please Enter A Password');
            e.preventDefault();
        }
        if ($('#contactinput').val() == "") {
            $('#contactError').html('Please Enter A Contact Number');
            e.preventDefault();
        }
        if ($('#lastnameinput').val() == "") {
            $('#lastNameError').html('Please Enter A Last Name');
            e.preventDefault();
        }
    });

    function resetpwd() {
        if ($('#pwdResetEmail').val() != "") {
            $('#resetFail').hide();
            $('#resetSuccess').hide();
            $.get('/mainApp/resetpwdtoken', {
                email: $('#pwdResetEmail').val()
            }, function (response) {
                if (response.status == "success") {
                    $('#resetSuccess').show();
                } else {
                    $('#resetFail').show();
                }
            });
        }
    }


</script>

</body>


</html>
